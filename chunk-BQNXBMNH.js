import{a as le,b as de,c as ce,e as me}from"./chunk-7F7ZPKMT.js";import{$ as Q,B as s,E as u,F as P,H as v,I as O,K as B,L as W,M as q,N as _,O as a,P as r,Q as m,R as p,S as f,T as E,U as w,V as g,W as i,X as b,Y as J,Z as G,_ as H,a as R,aa as U,b as j,c as $,ca as X,da as Y,ea as Z,fa as ee,ga as S,ha as te,ia as ne,j as L,ja as oe,l as C,la as ie,ma as re,n as y,na as ae,o as x,v as F,y as K,z as l}from"./chunk-QUDAMXJV.js";function pe(t){return{value:t}}function fe(t){return t.value}function z(){return""}function se(){return{studentId:"",firstname:"",lastname:"",age:0,autobiography:"",friends:[z()]}}function A(t){return pe(t)}function ge(t){let n=t,{friends:o}=n,e=$(n,["friends"]);return j(R({},e),{friends:o.map(A)})}function Pe(t){return fe(t)}function _e(t){let n=t,{friends:o}=n,e=$(n,["friends"]);return j(R({},e),{friends:o.map(Pe)})}function be(t,o){if(t&1){let e=E();a(0,"div",10)(1,"button",11),w("click",function(){let d=y(e).$index,c=g();return x(c.moveFriend(d,-1))}),a(2,"i",9),i(3,"arrow_upward_alt"),r()(),a(4,"button",11),w("click",function(){let d=y(e).$index,c=g();return x(c.moveFriend(d,1))}),a(5,"i",9),i(6,"arrow_downward_alt"),r()(),a(7,"span",12)(8,"label")(9,"b"),i(10," Friend "),a(11,"span",13),i(12),r()(),m(13,"input",3),u(),r()(),a(14,"button",14),w("click",function(){let d=y(e).$index,c=g();return x(c.removeFriend(d))}),a(15,"i",9),i(16,"delete_forever"),r()()()}if(t&2){let e=o.$implicit,n=o.$index,d=o.$index,c=o.$count,ue=o.$count;l(),_("disabled",d===0),l(3),_("disabled",d===ue-1),l(8),b(n+1),l(),P(e.value,"formField"),l(),_("disabled",c===1)}}var D=class t{data=ne.required();syncedSource=null;model=ee({source:this.data,computation:(o,e)=>typeof e>"u"||this.syncedSource!==o?ge(o):e.value});friendsCountKey=de();form=ce(this.model,o=>{le(o.friends,this.friendsCountKey,({value:e})=>e().length)});constructor(){F(()=>{this.syncedSource=_e(this.model()),this.data.set(this.syncedSource)})}addFriend(){this.form.friends().value.update(o=>[...o,A(z())])}removeFriend(o){this.form.friends().value.update(e=>e.filter((n,d)=>d!==o))}moveFriend(o,e){this.form.friends().value.update(n=>n.map((d,c)=>c===o?n[o+e]:c===o+e?n[o]:d))}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=s({type:t,selectors:[["app-profile-form"]],inputs:{data:[1,"data"]},outputs:{data:"dataChange"},decls:33,vars:15,consts:[[1,"_main-form",3,"disabled"],[1,"_info-form"],["type","text","inputmode","numeric",3,"formField"],["type","text",3,"formField"],["type","number",3,"formField"],["rows","5",3,"formField"],[1,"_friends-form",3,"disabled"],[1,"app-cl-number"],["type","button",1,"app-cmp-button",3,"click"],[1,"material-symbols-outlined"],[1,"_friend-container"],["type","button",1,"app-cmp-button",3,"click","disabled"],[1,"_friend-input"],[1,"_friend-title-no","app-cl-number"],["type","button",1,"app-cmp-button","app-cl-warn",3,"click","disabled"]],template:function(e,n){e&1&&(a(0,"fieldset",0)(1,"div",1)(2,"label")(3,"b"),i(4,"Student ID"),r(),m(5,"input",2),u(),r(),a(6,"label")(7,"b"),i(8,"Firstname"),r(),m(9,"input",3),u(),r(),a(10,"label")(11,"b"),i(12,"Lastname"),r(),m(13,"input",3),u(),r(),a(14,"label")(15,"b"),i(16,"Age"),r(),m(17,"input",4),u(),r(),a(18,"label")(19,"b"),i(20,"Autobiography"),r(),m(21,"textarea",5),u(),r()(),a(22,"fieldset",6)(23,"legend"),i(24," Friends "),a(25,"span",7),i(26),X(27,"number"),r(),a(28,"button",8),w("click",function(){return n.addFriend()}),a(29,"i",9),i(30,"add"),r()()(),W(31,be,17,6,"div",10,B),r()()),e&2&&(_("disabled",n.form().disabled()),l(5),P(n.form.studentId,"formField"),l(4),P(n.form.firstname,"formField"),l(4),P(n.form.lastname,"formField"),l(4),P(n.form.age,"formField"),l(4),P(n.form.autobiography,"formField"),l(),_("disabled",n.form.friends().disabled()),l(4),J("(",Y(27,13,n.form.friends().metadata(n.friendsCountKey)()),")"),l(5),q(n.form.friends))},dependencies:[me,oe],styles:["@layer{[_nghost-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}@layer{._main-form[_ngcontent-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}@layer{._info-form[_ngcontent-%COMP%]{--_row-gap: var(--app-row-gap)}}._info-form[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;row-gap:var(--_row-gap)}._info-form[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline}._info-form[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{width:15ch;margin-right:1ch}._info-form[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > b[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{box-sizing:border-box;flex:1 0 auto}._info-form[_ngcontent-%COMP%]{width:100%}@layer{._friends-form[_ngcontent-%COMP%]{--_margin-top: var(--app-row-gap);--_legend-column-gap: var(--app-column-gap);--_body-gap: var(--app-row-gap);--_border-color: var(--app-on-surface-color)}}._friends-form[_ngcontent-%COMP%]{margin-top:var(--_margin-top);border:1px solid var(--_border-color)}._friends-form[_ngcontent-%COMP%] > legend[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;align-items:center;column-gap:var(--_legend-column-gap);margin-bottom:var(--_body-gap)}@layer{._friends-form[_ngcontent-%COMP%] > ._friend-container[_ngcontent-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}._friends-form[_ngcontent-%COMP%] > ._friend-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch}@layer{._friends-form[_ngcontent-%COMP%] > ._friend-container[_ngcontent-%COMP%] > ._friend-input[_ngcontent-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}@layer{._friends-form[_ngcontent-%COMP%] > ._friend-container[_ngcontent-%COMP%] > ._friend-input[_ngcontent-%COMP%]{--_row-gap: var(--app-row-gap)}}._friends-form[_ngcontent-%COMP%] > ._friend-container[_ngcontent-%COMP%] > ._friend-input[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;row-gap:var(--_row-gap)}._friends-form[_ngcontent-%COMP%] > ._friend-container[_ngcontent-%COMP%] > ._friend-input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline}._friends-form[_ngcontent-%COMP%] > ._friend-container[_ngcontent-%COMP%] > ._friend-input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{width:10ch;margin-right:1ch}._friends-form[_ngcontent-%COMP%] > ._friend-container[_ngcontent-%COMP%] > ._friend-input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > b[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{box-sizing:border-box;flex:1 0 auto}._friends-form[_ngcontent-%COMP%] > ._friend-container[_ngcontent-%COMP%] > ._friend-input[_ngcontent-%COMP%]{flex:1 0 auto}._friends-form[_ngcontent-%COMP%] > ._friend-container[_ngcontent-%COMP%] > ._friend-input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{height:100%}._friends-form[_ngcontent-%COMP%] > ._friend-container[_ngcontent-%COMP%] > ._friend-input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{margin-left:1ch}._friends-form[_ngcontent-%COMP%] > ._friend-container[_ngcontent-%COMP%] > ._friend-input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > b[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{height:100%}._friends-form[_ngcontent-%COMP%] > ._friend-container[_ngcontent-%COMP%]   ._friend-title-no[_ngcontent-%COMP%]{display:inline-block;width:3ch;padding-left:1ch;margin-left:auto}"],changeDetection:0})};var Ce="profile-data",M=class t{keyName=`${C(K)}-${Ce}`;async get(){return JSON.parse(localStorage.getItem(this.keyName)??"null")}async set(o){return localStorage.setItem(this.keyName,JSON.stringify(o))}static \u0275fac=function(e){return new(e||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})};function ye(t,o){if(t&1){let e=E();a(0,"app-profile-form",1),U("dataChange",function(d){y(e);let c=g();return Q(c.dataResource.value,d)||(c.dataResource.value=d),x(d)}),r()}if(t&2){let e=g();H("data",e.dataResource.value)}}var k=class t{dataStorage=C(M);dataResource=S({loader:async()=>await this.dataStorage.get()??se()});constructor(){F(async()=>{this.dataResource.hasValue()&&await this.dataStorage.set(this.dataResource.value())})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=s({type:t,selectors:[["app-profile-form-page"]],decls:1,vars:1,consts:[[3,"data"],[3,"dataChange","data"]],template:function(e,n){e&1&&v(0,ye,1,1,"app-profile-form",0),e&2&&O(n.dataResource.hasValue()?0:-1)},dependencies:[D],styles:["@layer{[_nghost-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}"],changeDetection:0})};var T=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=s({type:t,selectors:[["app-profile-root"]],decls:13,vars:0,consts:[[1,"app-cmp-nav"],["routerLinkActive","app-st-active"],["routerLink","./view"],[1,"material-symbols-outlined"],["routerLink","./form"]],template:function(e,n){e&1&&(a(0,"nav")(1,"ul",0)(2,"li",1)(3,"a",2)(4,"i",3),i(5,"view_list"),r(),i(6," View "),r()(),a(7,"li",1)(8,"a",4)(9,"i",3),i(10,"edit_document"),r(),i(11," Form "),r()()()(),m(12,"router-outlet"))},dependencies:[re,ae,ie],styles:["@layer{[_nghost-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}"],changeDetection:0})};var I=class t{data=te.required();friends=Z(()=>this.data().friends.join(", "));static \u0275fac=function(e){return new(e||t)};static \u0275cmp=s({type:t,selectors:[["app-profile-view"]],inputs:{data:[1,"data"]},decls:23,vars:6,consts:[[1,"_main-data"],[1,"app-cl-code"],[1,"app-cl-number"],[1,"_autobiography"]],template:function(e,n){e&1&&(p(0,"dl",0)(1,"dt"),i(2,"Student ID"),f(),p(3,"dd")(4,"span",1),i(5),f()(),p(6,"dt"),i(7,"Fullname"),f(),p(8,"dd"),i(9),f(),p(10,"dt"),i(11,"Age"),f(),p(12,"dd")(13,"span",2),i(14),f()(),p(15,"dt"),i(16,"Autobiography"),f(),p(17,"dd",3),i(18),f(),p(19,"dt"),i(20,"Friends"),f(),p(21,"dd"),i(22),f()()),e&2&&(l(5),b(n.data().studentId),l(4),G("",n.data().firstname," ",n.data().lastname),l(5),b(n.data().age),l(4),b(n.data().autobiography),l(4),b(n.friends()))},styles:["@layer{[_nghost-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}@layer{._main-data[_ngcontent-%COMP%]{--_column-gap: var(--app-column-gap);--_row-gap: var(--app-row-gap)}}._main-data[_ngcontent-%COMP%]:is(dl){display:grid;align-items:baseline;grid-template-columns:auto 1fr;column-gap:var(--_column-gap);row-gap:var(--_row-gap)}._main-data[_ngcontent-%COMP%]:is(dl) > dt[_ngcontent-%COMP%]{font-weight:700}._main-data[_ngcontent-%COMP%]:is(dl) > dd[_ngcontent-%COMP%]{margin-left:0}@layer{._main-data[_ngcontent-%COMP%]:is(dl) > dd[_ngcontent-%COMP%]{text-align:justify}}._autobiography[_ngcontent-%COMP%]{white-space:pre-wrap}"],changeDetection:0})};function xe(t,o){t&1&&m(0,"app-profile-view",0),t&2&&_("data",o)}function Me(t,o){t&1&&(a(0,"p",1)(1,"i",2),i(2,"warning"),r(),i(3," Not Found!!! "),r())}function ve(t,o){if(t&1&&v(0,xe,1,1,"app-profile-view",0)(1,Me,4,0,"p",1),t&2){let e,n=g();O((e=n.dataResource.value())?0:1,e)}}var N=class t{dataStorage=C(M);dataResource=S({loader:async()=>await this.dataStorage.get()});static \u0275fac=function(e){return new(e||t)};static \u0275cmp=s({type:t,selectors:[["app-profile-view-page"]],decls:1,vars:1,consts:[[3,"data"],[1,"_message"],[1,"material-symbols-outlined"]],template:function(e,n){e&1&&v(0,ve,2,1),e&2&&O(n.dataResource.hasValue()?0:-1)},dependencies:[I],styles:["@layer{[_nghost-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}@layer{._message[_ngcontent-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}._message[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;column-gap:var(--app-column-gap);font-size:xx-large;font-weight:600;margin-top:64px}._message[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{font-size:xx-large}"],changeDetection:0})};var at=[{path:"",component:T,children:[{path:"",redirectTo:"view",pathMatch:"full"},{path:"view",component:N},{path:"form",component:k}]}];export{at as default};
